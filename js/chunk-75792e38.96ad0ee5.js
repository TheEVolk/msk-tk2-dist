(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75792e38"],{"4ca6":function(t,e,i){"use strict";i("ff44");var a=i("132d"),s=i("a9ad"),n=i("7560"),o=i("f2e7"),r=i("f40d"),l=i("fe6c"),c=i("58df"),u=i("80d2");e["a"]=Object(c["a"])(s["a"],Object(l["b"])(["left","bottom"]),n["a"],o["a"],r["a"]).extend({name:"v-badge",props:{avatar:Boolean,bordered:Boolean,color:{type:String,default:"primary"},content:{required:!1},dot:Boolean,label:{type:String,default:"$vuetify.badge"},icon:String,inline:Boolean,offsetX:[Number,String],offsetY:[Number,String],overlap:Boolean,tile:Boolean,transition:{type:String,default:"scale-rotate-transition"},value:{default:!0}},computed:{classes(){return{"v-badge--avatar":this.avatar,"v-badge--bordered":this.bordered,"v-badge--bottom":this.bottom,"v-badge--dot":this.dot,"v-badge--icon":null!=this.icon,"v-badge--inline":this.inline,"v-badge--left":this.left,"v-badge--overlap":this.overlap,"v-badge--tile":this.tile,...this.themeClasses}},computedBottom(){return this.bottom?"auto":this.computedYOffset},computedLeft(){return this.isRtl?this.left?this.computedXOffset:"auto":this.left?"auto":this.computedXOffset},computedRight(){return this.isRtl?this.left?"auto":this.computedXOffset:this.left?this.computedXOffset:"auto"},computedTop(){return this.bottom?this.computedYOffset:"auto"},computedXOffset(){return this.calcPosition(this.offsetX)},computedYOffset(){return this.calcPosition(this.offsetY)},isRtl(){return this.$vuetify.rtl},offset(){return this.overlap?this.dot?8:12:this.dot?2:4},styles(){return this.inline?{}:{bottom:this.computedBottom,left:this.computedLeft,right:this.computedRight,top:this.computedTop}}},methods:{calcPosition(t){return`calc(100% - ${Object(u["f"])(t||this.offset)})`},genBadge(){const t=this.$vuetify.lang,e=this.$attrs["aria-label"]||t.t(this.label),i=this.setBackgroundColor(this.color,{staticClass:"v-badge__badge",style:this.styles,attrs:{"aria-atomic":this.$attrs["aria-atomic"]||"true","aria-label":e,"aria-live":this.$attrs["aria-live"]||"polite",title:this.$attrs.title,role:this.$attrs.role||"status"},directives:[{name:"show",value:this.isActive}]}),a=this.$createElement("span",i,[this.genBadgeContent()]);return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[a]):a},genBadgeContent(){if(this.dot)return;const t=Object(u["n"])(this,"badge");return t||(this.content?String(this.content):this.icon?this.$createElement(a["a"],this.icon):void 0)},genBadgeWrapper(){return this.$createElement("span",{staticClass:"v-badge__wrapper"},[this.genBadge()])}},render(t){const e=[this.genBadgeWrapper()],i=[Object(u["n"])(this)],{"aria-atomic":a,"aria-label":s,"aria-live":n,role:o,title:r,...l}=this.$attrs;return this.inline&&this.left?i.unshift(e):i.push(e),t("span",{staticClass:"v-badge",attrs:l,class:this.classes},i)}})},"5d68":function(t,e,i){"use strict";i("7a2a")},"7a2a":function(t,e,i){},a981:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("TabContent",{staticStyle:{"overflow-y":"auto","max-height":"100%"}},[i("v-text-field",{staticStyle:{"border-radius":"0px"},attrs:{filled:"",placeholder:"–§–∏–ª—å—Ç—Ä","hide-details":""},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),i("v-container",[i("v-row",{staticClass:"ticket-list"},t._l(t.sorted,(function(t){return i("TicketItem",{key:t.id,attrs:{value:t}})})),1)],1)],1)},s=[],n=(i("99af"),i("4de4"),i("caad"),i("d81d"),i("b0c0"),i("d3b7"),i("25f0"),i("2532"),i("2141")),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-col",{staticClass:"ticket-item",attrs:{cols:"12",sm:"6"}},[i("v-card",{style:"border-left: "+t.border+";",attrs:{dense:"",tile:t.core.mobile},on:{click:t.showWindow}},[i("v-list-item",{attrs:{dense:"","two-line":""}},[i("v-badge",{attrs:{color:this.badge?"accent":"rgba(0,0,0,0)",overlap:"",content:this.badge,bottom:"","offset-x":"30","offset-y":"32"}},[i("v-list-item-avatar",{attrs:{color:"grey"}},[i("img",{attrs:{src:t.avatarCache.getAvatar(t.value.client)}})])],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s(t.value.name)}}),i("v-list-item-subtitle",[t._v(t._s(t.value.client))]),i("v-list-item-subtitle",[t._v(t._s(t.value.responsible)),!t.value.blockedByMe&&t.value.blockedBy?i("span",[t._v(" üîí "+t._s(t.value.blockedBy))]):t._e()])],1),i("v-list-item-action",[i("v-list-item-subtitle",[t._v(t._s(t.createdAt))]),i("v-list-item-subtitle",[t._v(t._s(t.value.ticket))]),i("v-list-item-subtitle",[t._v(t._s(t.value.location))])],1)],1)],1)],1)},r=[],l=(i("7db0"),i("ac1f"),i("466d"),i("96cf"),i("1da1")),c=i("3835"),u=i("a34a"),d=i.n(u),f=i("c1df"),h=i.n(f);h.a.locale("ru");var v={props:["value"],computed:{createdAt:function(){var t=this.value.delay.match(/(\d+)d\+(\d+):(\d+)/),e=Object(c["a"])(t,4),i=(e[0],e[1]),a=e[2],s=e[3],n=Date.now()/1e3-86400*i-3600*a-60*s;return h.a.unix(n).fromNow()},border:function(){if(this.value.unread){var t=this.value.delay.match(/(\d+)d\+(\d+):(\d+)/),e=Object(c["a"])(t,4),i=(e[0],e[1]),a=e[2],s=e[3],n=60*i*24+60*a+1*s,o=n>=15?"#ff3b00":"#ff9c2a";return"3px solid ".concat(o)}return"on"===this.value.blocked_by_me?"3px solid #2aabff":this.value.blocked_by?"3px solid #7b0202":"0px"},dublicate:function(){var t=this;return!!this.$store.state.ticket.list.find((function(e){return e.client===t.value.client&&e!==t.value}))},badge:function(){return"".concat(["","üíñ","üíî"][this.value.attitude]).concat(this.dublicate?"üêÄ":"")}},methods:{showWindow:function(){var t=this;return Object(l["a"])(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.tabMgr.open("Ticket",{ticketId:t.value.ticket,elId:t.value.id});case 1:case"end":return e.stop()}}),e)})))()}}},b=v,m=(i("5d68"),i("2877")),p=i("6544"),g=i.n(p),y=i("4ca6"),_=i("b0af"),k=i("62ad"),w=i("da13"),B=i("1800"),C=i("8270"),O=i("5d23"),$=Object(m["a"])(b,o,r,!1,null,"812d7124",null),x=$.exports;g()($,{VBadge:y["a"],VCard:_["a"],VCol:k["a"],VListItem:w["a"],VListItemAction:B["a"],VListItemAvatar:C["a"],VListItemContent:O["a"],VListItemSubtitle:O["b"],VListItemTitle:O["c"]});var S={props:["value"],components:{TabContent:n["a"],TicketItem:x},data:function(){return{filter:""}},mounted:function(){this.updateTitle()},methods:{updateTitle:function(){this.value.title="–¢–∏–∫–µ—Ç—ã [".concat(this.list.length,"/").concat(this.list.filter((function(t){return t.unread})).length,"]"),this.value.fullTitle=this.value.title}},computed:{list:function(){return this.$store.state.ticket.list},filtered:function(){var t=this.filter&&this.filter.toLowerCase(),e=function(e){return e&&e.toString().toLowerCase().includes(t)};return t?this.list.filter((function(t){return e(t.name)||e(t.client)||e(t.location)||e(t.ticket)||e(t.responsible)})):this.list},sorted:function(){return this.filtered.map((function(t){return t.blocked_by_me?(t.priority=3,t):t.unread?(t.priority=2,t):t.blocked_by?(t.priority=0,t):(t.priority=1,t)})).sort((function(t,e){return e.priority-t.priority}))}},watch:{list:function(){this.updateTitle()}}},T=S,V=(i("cada"),i("a523")),j=i("0fd9"),I=i("8654"),L=Object(m["a"])(T,a,s,!1,null,"b4cba97e",null);e["default"]=L.exports;g()(L,{VContainer:V["a"],VRow:j["a"],VTextField:I["a"]})},cada:function(t,e,i){"use strict";i("cde6")},cde6:function(t,e,i){},f40d:function(t,e,i){"use strict";var a=i("a026");e["a"]=a["a"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}})},ff44:function(t,e,i){}}]);
//# sourceMappingURL=chunk-75792e38.96ad0ee5.js.map